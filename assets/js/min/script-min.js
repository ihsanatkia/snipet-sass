!function($,t,i){"use strict";$(t).ready(function(){function t(t){$.ajax({url:"action.php",data:{get_auto_value:""},type:"POST",dataType:"json"}).done(function(s){"undefined"!=typeof s.data&&i.find(".auto-safe label").text(unescape(s.data)),t&&t()})}!function(t){function i(t,i){this.$form=t,this.indexes={},this.options=s;for(var n in i)this.$form.find("#"+n).length&&"function"==typeof i[n]?this.indexes[n]=i[n]:this.options[n]=i[n];this.init()}var s={_error_class:"error",_onValidateFail:function(){}};i.prototype={init:function(){var t=this;t.$form.on("submit",function(i){return t.process(),t.hasErrors()?(t.options._onValidateFail(),i.stopImmediatePropagation(),!1):!0})},notEmpty:function(t){return""!=t?!0:!1},isEmail:function(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},isUrl:function(t){var i=new RegExp("(^(http[s]?:\\/\\/(www\\.)?|ftp:\\/\\/(www\\.)?|(www\\.)?))[\\w-]+(\\.[\\w-]+)+([\\w-.,@?^=%&:/~+#-]*[\\w@?^=%&;/~+#-])?","gim");return i.test(t)},elClass:"",setClass:function(t){this.elClass=t},process:function(){this._errors={};for(var i in this.indexes){if(this.$el=this.$form.find("#"+i),this.$el.length){var s=t.proxy(this.indexes[i],this,t.trim(this.$el.val()))();this.elClass?(this.elClass.toggleClass(this.options._error_class,!s),this.elClass=""):this.$el.toggleClass(this.options._error_class,!s),s||(this._errors[i]=s)}this.$el=null}},_errors:{},hasErrors:function(){return!t.isEmptyObject(this._errors)}},t.fn.isValid=function(s){return this.each(function(){var n=t(this);t.data(n,"is_valid")||t.data(n,"is_valid",new i(n,s))})}}(jQuery);var i=$(".actionform");i.on("click",".auto-refresh",function(i){i.preventDefault();var s=$(this);s.addClass("fa-spin"),t(function(){s.removeClass("fa-spin")})}),t(),i.isValid({name:function(t){return this.setClass(this.$el.parent()),this.notEmpty(t)},email:function(t){return this.setClass(this.$el.parent()),this.isEmail(t)},subject:function(t){return this.setClass(this.$el.parent()),this.notEmpty(t)},autovalue:function(t){return this.setClass(this.$el.parent()),this.notEmpty(t)}}).submit(function(i){i.preventDefault();var s=$(this);s.find(".notification").attr("class","notification"),s.find(".notification").text(""),$.ajax({url:s.attr("action"),type:s.attr("method"),dataType:"json",data:$(this).serialize()}).done(function(i){s.find(".loading").hide(),"undefined"!=typeof i.type&&"undefined"!=typeof i.message&&(s.find(".notification").addClass(i.type+"msg").text(i.message),"success"==i.type&&(s.find('input[type="text"], input[type="email"], textarea').val(""),t()))})})})}(jQuery,document,window);